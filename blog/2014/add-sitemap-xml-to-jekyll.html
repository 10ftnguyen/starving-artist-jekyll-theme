<!DOCTYPE html> <html> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name=viewport content="width=device-width, initial-scale=1"> <title>Add sitemap.xml to Jekyll | Starving Artist Jekyll Theme</title> <meta name="author" content="Chrisanthropic"> <meta name="description" content="Witty description here. "> <meta name="keywords" content="jekyll, jekyll theme, portfolio theme, artist theme"> <link href="/starving-artist-jekyll-theme/css/main.css" media="screen, projection" rel="stylesheet" type="text/css"> <link rel="canonical" href="/starving-artist-jekyll-theme/blog/2014/add-sitemap-xml-to-jekyll"> <link href="/starving-artist-jekyll-theme/favicon.ico" rel="icon"> <link rel="alternate" type="application/atom+xml" title="Starving Artist Jekyll Theme" href="/starving-artist-jekyll-theme/atom.xml"/> <meta property="twitter:card" content="summary"/> <meta property="twitter:site" content=""/> <meta property="twitter:url" content="/starving-artist-jekyll-theme"/> <meta property="twitter:title" content="Add sitemap.xml to Jekyll"/> <meta property="twitter:description" content="Witty description here. "/> <meta property="twitter:creator" content=""/> <meta property="twitter:image:src" content=""/> </head> <body> <main class="wrap"> <nav class="show-for-small-only navbar"> <nav class="row"> <div id="nav"> <ul class="columns small-12 left primary-nav"> <li id="toggleMenu"><a href="#nav">Menu</a></li> <li id="hideMenu"><a href="#toggleMenu">Menu</a></li> <li><a href="/starving-artist-jekyll-theme/illustration/">illustration</a></li> <li><a href="/starving-artist-jekyll-theme/concept-art/">concept art</a></li> <li><a href="/starving-artist-jekyll-theme/covers/">covers</a></li> <li><a href="/starving-artist-jekyll-theme/blog/">blog</a></li> <li><a href="/starving-artist-jekyll-theme/about/">about</a></li> <li><a href="/starving-artist-jekyll-theme/contact/">contact</a></li> </ul> <ul class="columns medium-4 right primary-nav flex"> <li class="right"><a href="https://chrisanthropic.github.io/slim-pickins-jekyll-theme/atom.xml"><span class="icon-feed socials"></span></a></li> <li class="right"><a href="#"><span class="icon-googleplus socials"></span></a></li> <li class="right"><a href="#"><span class="icon-facebook socials"></span></a></li> <li class="right"><a href="#"><span class="icon-tumblr socials"></span></a></li> <li class="right"><a href="https://twitter.com/"><span class="icon-twitter socials"></span></a></li> <li class="right"><a href="https://github.com/chrisanthropic/slim-pickins-jekyll-theme"><span class="icon-github socials"></span></a></li> <li class="right"><a href="https://www.linkedin.com/in/ctarwater"><span class="icon-linkedin socials"></span></a></li> </ul> </div> </nav> </nav> <header role="banner" id="header" class="small-12 medium-3 columns"> <div class="site-header medium-12 columns"> <div class="header-logo wraptainer"> <a href="/starving-artist-jekyll-theme/"><img src="/starving-artist-jekyll-theme/images/logo.png" srcset="/starving-artist-jekyll-theme/images/logo.png 200w, /starving-artist-jekyll-theme/images/logo.png 641w, /starving-artist-jekyll-theme/images/logo.png 1025w, /starving-artist-jekyll-theme/images/logo.png 1441w" alt="Starving Artist Jekyll Theme banner image" title="Starving Artist Jekyll Theme banner image" class="center"></a> </div> <nav class="hide-for-small-only"> <ul class="menu"> <li><a href="/starving-artist-jekyll-theme/illustration/">illustration</a></li> <li><a href="/starving-artist-jekyll-theme/concept-art/">concept art</a></li> <li><a href="/starving-artist-jekyll-theme/covers/">covers</a></li> <li><a href="/starving-artist-jekyll-theme/blog/">blog</a></li> <li><a href="/starving-artist-jekyll-theme/about/">about</a></li> <li><a href="/starving-artist-jekyll-theme/contact/">contact</a></li> </ul> </nav> </div> </header> <div class="content_container columns"> <article class="small-12 columns"> <header class="columns wraptainer"> <p class="post-meta">Dec 3, 2014</p> <h1 class="post-title">Add sitemap.xml to Jekyll</h1> </header> <div class="columns"> <div class="page-content"> <p>I donâ€™t like using plugins unless absolutely necessarry so I was happy to find a simple way to create a sitemap without one. The instructions are taken from this site: <a href="http://davidensinger.com/2013/11/building-a-better-sitemap-xml-with-jekyll/">http://davidensinger.com/2013/11/building-a-better-sitemap-xml-with-jekyll/</a></p> <ul> <li>Create a <code class="highlighter-rouge">sitemap.xml</code> file with the following content:</li> </ul> <div class="highlighter-rouge"><pre class="highlight"><code>
---
layout: null
sitemap:
  exclude: 'yes'
---
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9"&gt;
  {% for post in site.posts %}
    {% unless post.published == false %}
    &lt;url&gt;
      &lt;loc&gt;{{ site.url }}{{ post.url }}&lt;/loc&gt;
      {% if post.sitemap.lastmod %}
        &lt;lastmod&gt;{{ post.sitemap.lastmod | date: "%Y-%m-%d" }}&lt;/lastmod&gt;
      {% elsif post.date %}
        &lt;lastmod&gt;{{ post.date | date_to_xmlschema }}&lt;/lastmod&gt;
      {% else %}
        &lt;lastmod&gt;{{ site.time | date_to_xmlschema }}&lt;/lastmod&gt;
      {% endif %}
      {% if post.sitemap.changefreq %}
        &lt;changefreq&gt;{{ post.sitemap.changefreq }}&lt;/changefreq&gt;
      {% else %}
        &lt;changefreq&gt;monthly&lt;/changefreq&gt;
      {% endif %}
      {% if post.sitemap.priority %}
        &lt;priority&gt;{{ post.sitemap.priority }}&lt;/priority&gt;
      {% else %}
        &lt;priority&gt;0.5&lt;/priority&gt;
      {% endif %}
    &lt;/url&gt;
    {% endunless %}
  {% endfor %}
  {% for page in site.pages %}
    {% unless page.sitemap.exclude == "yes" %}
    &lt;url&gt;
      &lt;loc&gt;{{ site.url }}{{ page.url | remove: "index.html" }}&lt;/loc&gt;
      {% if page.sitemap.lastmod %}
        &lt;lastmod&gt;{{ page.sitemap.lastmod | date: "%Y-%m-%d" }}&lt;/lastmod&gt;
      {% elsif page.date %}
        &lt;lastmod&gt;{{ page.date | date_to_xmlschema }}&lt;/lastmod&gt;
      {% else %}
        &lt;lastmod&gt;{{ site.time | date_to_xmlschema }}&lt;/lastmod&gt;
      {% endif %}
      {% if page.sitemap.changefreq %}
        &lt;changefreq&gt;{{ page.sitemap.changefreq }}&lt;/changefreq&gt;
      {% else %}
        &lt;changefreq&gt;monthly&lt;/changefreq&gt;
      {% endif %}
      {% if page.sitemap.priority %}
        &lt;priority&gt;{{ page.sitemap.priority }}&lt;/priority&gt;
      {% else %}
        &lt;priority&gt;0.3&lt;/priority&gt;
      {% endif %}
    &lt;/url&gt;
    {% endunless %}
  {% endfor %}
&lt;/urlset&gt;

</code></pre> </div> <ul> <li>Add the following configurable settings to your templates:</li> </ul> <div class="highlighter-rouge"><pre class="highlight"><code>sitemap:
  lastmod: 
  priority: 0.5
  changefreq: monthly
  exclude: 'no'
</code></pre> </div> <ul> <li>More info on the settings can be found at <a href="http://www.sitemaps.org/protocol.html">sitemaps.org</a> but basically <ul> <li><strong>lastmod</strong> - lists the last time the page/post was modified</li> <li><strong>priority</strong> - tells web crawlers how <em>you</em> prioritize the page/post on a scale of 0.0 -1.0. 0.5 is default.</li> <li><strong>changefreq</strong> - a guideline for the webcrawler about how often the page/post likely changes (always, hourly, daily, weekly, monthly, yearly, never)</li> <li><strong>exclude</strong> - yes/no wether you want the page/post included in the sitemap.</li> </ul> </li> <li>Sitemaps.org is very clear that web crawlers use the data as <em>hints</em> rather than commands so keep that in mind.</li> </ul> </div> </div> </article> </div> <aside class="small-12 medium-2 columns sidebar page-content recent-posts"> <div class="wraptainer"> <h2>Recent Posts</h2> <ul> <li> <a href="/starving-artist-jekyll-theme/blog/2016/sample-post-with-thumbnail">Sample post with thumbnail</a> </li> <li> <a href="/starving-artist-jekyll-theme/blog/2014/using-_data-to-build-jekyll-navigation">Using _data to Build Jekyll Navigation</a> </li> <li> <a href="/starving-artist-jekyll-theme/blog/2014/integrating-compass-and-jekyll-without-plugins">Integrating Compass and Jekyll Without Plugins</a> </li> <li> <a href="/starving-artist-jekyll-theme/blog/2014/integrating-the-foundation-zurb-grid-with-jekyll">Integrating the Foundation Zurb Grid With Jekyll</a> </li> <li> <a href="/starving-artist-jekyll-theme/blog/2014/an-s3-policy-to-block-semalt-referral-traffic">An S3 Policy to Block Semalt Referral Traffic</a> </li> </ul> </div> </aside> </aside> </main> </body> </html>